import {
  this.binary.buffer,
  this.buffer {buffer, flush, make-buffer},
  this.file.descriptor {stdout},
  this.rune.buffer {write-rune},
  this.text {text, to-binary},
  this.unit {unit},
}

define write(b: &buffer, content: &text): unit {
  this.binary.buffer.write-binary(b, to-binary(content))
}

define write-line(b: &buffer, content: &text): unit {
  write(b, content);
  write-rune(b, `\n`)
}

define zen(): unit {
  let !k = make-buffer(stdout, 4096);
  pin k = !k;
  write-line(k, "hello!");
  write-line(k, "hello!");
  flush(k);
}
